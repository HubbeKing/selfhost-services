apiVersion: v1
kind: ConfigMap
metadata:
  name: web-envs
  namespace: immich
data:
  NODE_ENV: production
  DB_HOSTNAME: postgres.immich.svc.cluster.local
  DB_PORT: "5432"
  DB_USERNAME: immich
  DB_DATABASE_NAME: immich
  REDIS_HOSTNAME: redis.immich.svc.cluster.local
  REDIS_PORT: "6379"
  REDIS_DBINDEX: "0"
  TYPESENSE_ENABLED: "true"
  TYPESENSE_HOST: typesense.immich.svc.cluster.local
  TYPESENSE_PORT: "8108"
  TYPESENSE_PROTOCOL: "http"
  PORT: "3000"
  SERVER_PORT: "3001"
  MICROSERVICES_PORT: "3002"
  # host part of listen URL parameter for machine-learning container
  MACHINE_LEARNING_HOST: "0.0.0.0"
  MACHINE_LEARNING_PORT: "3003"
  IMMICH_WEB_URL: http://web.immich.svc.cluster.local:3000
  IMMICH_SERVER_URL: http://server.immich.svc.cluster.local:3001
  # actual URL other containers connect to for machine-learning API calls
  IMMICH_MACHINE_LEARNING_URL: http://machine-learning.immich.svc.cluster.local:3003
